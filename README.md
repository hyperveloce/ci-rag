## Startup and Verification Instructions

1.  **Navigate to the Repository:**
    Open your terminal and navigate to the root directory of your repository where your `docker-compose.yaml` file is located:

    ```bash
    cd ci-rag
    ```

    *(Replace `/path/to/your/repository` with the actual path to your repository.)*

2.  **Start Docker Containers:**
    Run the following command to build and start your RAG application and vector database containers:

    ```bash
    docker-compose up --build -d
    ```

    This command will build your `rag_app` image (if necessary) and start all services defined in `docker-compose.yaml` in the background.

3.  **Verify Container Status:**
    Check status health:

    ```bash
    docker ps
    ```

4.  **Send a `curl` Request for Verification:**
    Use the following `curl` command to send a test query:

    ```bash
    curl -X POST -H "Content-Type: application/json" -d '{"query": "What information is available about the document?"}' http://localhost:8000/query
    ```

    **Important:**
    * Modify the query (`"What information is available about the document?"`) to be relevant to the data you intend to process with your RAG system.
    * Adjust the endpoint (`/query`) if your application uses a different API path for queries.

5.  **Examine the Response:**
    If your setup is working correctly, you should receive a JSON response from your RAG application. This response will likely contain an `"answer"` field with the information generated by Ollama based on the retrieved context. The exact format will depend on your application's implementation.

    **Example Expected Response (may vary):**

    ```json
    {"answer": "Based on the indexed document, [Ollama's generated answer based on the retrieved context from Qdrant]."}
    ```

### Troubleshooting

* **Check Container Logs:** If you encounter issues, you can inspect the logs of your containers for error messages:
    ```bash
    docker logs rag_app
    docker logs <your_vector_database_container_name>
    ```
    *(Replace `<your_vector_database_container_name>` with the actual name of your vector database container from `docker ps` or `docker-compose.yaml`).*
* **Verify `OLLAMA_BASE_URL`:** Ensure that the `OLLAMA_BASE_URL` environment variable in your `docker-compose.yaml` for the `rag_app` service is correctly pointing to your running Ollama instance.
* **Network Connectivity:** If Ollama is running in another Docker container, ensure that the networks are correctly configured in your `docker-compose.yaml` to allow communication between your `rag_app` and the Ollama container.
* **Port Mapping:** Double-check that the port mapping for your `rag_app` in `docker-compose.yaml` matches the port you are using in your `curl` command.
